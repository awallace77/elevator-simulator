#ifndef ELEVATOR_H
#define ELEVATOR_H

#include <QWidget>
#include <QString>
#include "ElevatorState.h"
#include "Door.h"
#include "DoorState.h"
#include "Display.h"
#include "Speaker.h"
#include "SimulationComponent.h"
#include "Direction.h"

class OpenButton;
class CloseButton;
class HelpButton;

namespace Ui {
class Elevator;
}

class Elevator : public SimulationComponent {
    Q_OBJECT

    public:
	explicit Elevator(int, int, Direction, int, QWidget *parent = nullptr);
	~Elevator();
	QString toString() const;
	QString getState() const;
	virtual void updateUI();


	bool isIdle() const;
	bool isMoving() const;
	bool isStopped() const;
	bool isEmergency() const;
	bool isOutOfService() const;

	Direction getDirection() const;
	QString getDirectionString() const;

	void open();
    signals:
//	void carRequest(int);
//	QString broadcastEmerg();

    public slots:
/*	void newFloor(int);
	void start(QString);
	void stop();
	void close();
	void obstacle();
	void overloaded();
	void turnOnBackupPower();
	void shouldDispatchWarning();
	*/

    private:
	Ui::Elevator *ui;
	int floor;
	int elevatorNumber;
	int capacity;
	QString name;
	Direction direction;
	ElevatorState state;

	Door *door;
	Display *display;
	Speaker *speaker;
	OpenButton *openButton;
	OpenButton *openButton;

	void initUI();
};

#endif // ELEVATOR_H

#include <QWidget>
#include <QString>
#include "ElevatorState.h"
#include "Door.h"

namespace Ui {
class Elevator;
}

